!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?exports["product-finder"]=e(require("jquery")):t["product-finder"]=e(t.jquery)}(window,(function(t){return function(t){var e={};function s(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,s),o.l=!0,o.exports}return s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(i,o,function(e){return t[e]}.bind(null,o));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=300)}({0:function(e,s){e.exports=t},300:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ccProductFinder=void 0;var i=s(0),o=s(301);e.ccProductFinder=function(t,e){new o.ProductFinder(i(e),t)}},301:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(302);Object.defineProperty(e,"ProductFinder",{enumerable:!0,get:function(){return i.default}}),s(303)},302:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(0),o=function(){function t(t,e){this._$window=i(window),this._eventListeners={},this._options={stepClassName:"cs-product-finder__step",inputClassName:"cs-product-finder__input",optionClassName:"cs-product-finder__step-option",backButtonClassName:"cs-product-finder__back-button",formClassName:"cs-product-finder__form",stepResizeDelay:800,scrollOffset:70},this._visitedSteps=[],0!==t.length&&(this._$element=t,this._options=i.extend(this._options,e),this._$steps=t.find("."+this._options.stepClassName),this._visitedSteps.push(this._$steps.eq(0)),this._$inputs=this._$steps.find("."+this._options.inputClassName),this._$options=this._$steps.find("."+this._options.optionClassName),this._$backButtons=this._$element.find("."+this._options.backButtonClassName),this._$form=this._$element.find("."+this._options.formClassName),this._updateSizes(),this._$steps.css("position","absolute"),this._attachEvents())}return t.prototype.destroy=function(){this._detachEvents()},t.prototype._updateSizes=function(){var t=this,e=this._visitedSteps.slice(-1).pop(),s=parseInt(this._$element.css("height"),10),i=e.height();this._$element.css("padding-bottom",this._$backButtons.outerHeight()),setTimeout((function(){t._$element.css("height",e.height()+t._$backButtons.outerHeight())}),s>i?this._options.stepResizeDelay:0)},t.prototype._scrollToTop=function(){var t=this;this._visitedSteps.slice(-1).pop();parseInt(this._$element.css("height"),10)>i(window).height()&&setTimeout((function(){i("html, body").animate({scrollTop:t._$element.offset().top-t._options.scrollOffset},500)}),this._options.stepResizeDelay)},t.prototype._goToStep=function(t){this._visitedSteps.slice(-1).pop().addClass(this._options.stepClassName+"--previous").removeClass(this._options.stepClassName+"--current");var e=this._$steps.filter('[data-step-id="'+t+'"]');e.addClass(this._options.stepClassName+"--current"),this._visitedSteps.push(e),this._$backButtons.addClass(this._options.backButtonClassName+"--visible"),this._updateSizes(),this._$backButtons.blur(),this._scrollToTop()},t.prototype._goToPreviousStep=function(){var t=this._visitedSteps.pop();t.removeClass(this._options.stepClassName+"--current"),t.find(this._options.optionClassName).removeClass(this._options.optionClassName+"--checked"),this._visitedSteps.slice(-1).pop().addClass(this._options.stepClassName+"--current").removeClass(this._options.stepClassName+"--previous"),this._visitedSteps.length<=1&&(this._$backButtons.removeClass(this._options.backButtonClassName+"--visible"),this._$element.css("padding-bottom",0)),this._updateSizes(),this._$backButtons.blur()},t.prototype._goToSearch=function(){var t=this,e={};this._visitedSteps.forEach((function(s){var o=s.find("."+t._options.optionClassName+"--checked"),n=o.data("category-id"),r=o.data("attributes").reduce((function(t,e){return t[e.code]={range:e.range,values:e.values},t}),{});i.extend(!0,e,{attributes:r}),n&&(e.category_id=n)})),this._visitedSteps[this._visitedSteps.length-1].find("."+this._options.optionClassName+"--checked").data("category-only")&&delete e.attributes,this._sendWithPOST(e)},t.prototype._sendWithPOST=function(t){var e=this,s=i('<input type="hidden" name="category_id" value="'+t.category_id+'"></input>');this._$form.append(s),i.each(t.attributes,(function(t,s){Array.isArray(s.range)&&s.range.forEach((function(s){var o=i('<input type="hidden" name="attributes['+t+'][range][]" value="'+s+'"></input>');e._$form.append(o)})),Array.isArray(s.values)&&s.values.forEach((function(s){var o=i('<input type="hidden" name="attributes['+t+'][values][]" value="'+s+'"></input>');e._$form.append(o)}))})),this._$form.submit()},t.prototype._attachEvents=function(){var t=this;this._eventListeners.resizeListener=this._updateSizes.bind(this),this._eventListeners.backButtonClickListener=this._goToPreviousStep.bind(this),this._eventListeners.optionClickListener=function(e){var s=i(e.target).closest("."+t._options.optionClassName);s.parent().find("."+t._options.optionClassName+"--checked").removeClass(t._options.optionClassName+"--checked"),s.addClass(t._options.optionClassName+"--checked");var o=s.data("next-step-id");"search"!==o?t._goToStep(o):t._goToSearch()},this._$window.on("resize",this._eventListeners.resizeListener),this._$backButtons.on("click",this._eventListeners.backButtonClickListener),this._$options.on("click",this._eventListeners.optionClickListener)},t.prototype._detachEvents=function(){this._$window.off("resize",this._eventListeners.resizeListener),this._$backButtons.off("click",this._eventListeners.backButtonClickListener),this._$options.off("click",this._eventListeners.optionClickListener)},t}();e.default=o},303:function(t,e,s){"use strict";s.r(e)}})}));